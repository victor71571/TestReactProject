<!DOCTYPE html>
<html>
<head>
    <title></title>
	<meta charset="utf-8" />
   
</head>
<body>
    <div id="grid" class="container"></div>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
    <script type="text/babel">
        var PersonGridRow = React.createClass({
        render : function(){
        return (
        <tr>
            <td>{this.props.item.Id}</td>
            <td>{this.props.item.Name}</td>
            <td>{this.props.item.Gender}</td>
            <td>{this.props.item.Age}</td>
        </tr>
        );
        }
        });

        var PersonGridTable = React.createClass({
        getInitialState: function(){
        return {
        result:[]
        }
        },
        componentDidMount:function(){

        var xhr = new XMLHttpRequest();
        xhr.open('get', this.props.url, true);
        xhr.onload = function () {
        var response = JSON.parse(xhr.responseText);

        this.setState({ result: response });

        }.bind(this);
        xhr.send();
        },
        render : function(){
        var rows = [];
        this.state.result.forEach(function(item){
        rows.push(
        <PersonGridRow key={item.Id} item={item} />);
        });
        return (
        <table className="table table-bordered table-responsive">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Gender</th>
                    <th>Age</th>
                </tr>
            </thead>
            <tbody>
                {rows}
            </tbody>
        </table>);
        }
        });
        ReactDOM.render(
        <PersonGridTable url="api/Person/GetAllPersons" />,
        document.getElementById('grid')
        );
    </script>
</body>
</html>
